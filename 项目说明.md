# 妙笔小伙伴 - 智能英语作文批改应用

## 项目概述
基于视觉稿实现的"妙笔小伙伴"智能英语作文批改应用移动端首页，提供作文上传、学习资料浏览等核心功能。

## 技术栈
- **前端框架**: React 18 + TypeScript
- **构建工具**: Vite
- **样式方案**: Tailwind CSS + Styled Components
- **状态管理**: Zustand
- **路由管理**: React Router DOM
- **动画效果**: Framer Motion
- **图标库**: Lucide React
- **相机功能**: 浏览器原生 getUserMedia API
- **图片上传**: ImgBB 免费图片托管服务
- **AI批改服务**: 阿里云AI Studio API
- **数据持久化**: localStorage + Zustand persist

## 功能特性

### ✅ 已实现功能
1. **移动端布局**
   - 固定头部导航栏
   - 固定底部导航栏
   - 响应式设计，适配手机端

2. **欢迎区域**
   - 应用标题和副标题
   - 卡通儿童读书插图
   - 今日剩余次数显示
   - 智能批改速度提示

3. **作文上传**
   - 拍照上传功能（集成相机 + ImgBB上传）
   - 文本输入功能（待开发）
   - 使用次数限制
   - 上传状态反馈
   - 图片公开URL获取

4. **AI批改功能**
   - 自动调用AI批改API
   - 一键润色对比
   - 亮点挖掘展示
   - 基础批改对比
   - 综合评分系统
   - 数据统计分析

5. **学习资料**
   - 4个学习卡片（听力、词汇、语法、真题）
   - 渐变背景设计
   - 点击交互效果

6. **状态管理**
   - 用户信息管理
   - 剩余次数管理
   - 上传历史记录
   - 批改结果存储
   - 数据持久化

7. **移动端优化**
   - 触摸友好的交互
   - 流畅的滚动体验
   - iOS Safari兼容性
   - 防橡皮筋效果

## 项目结构
```
src/
├── components/           # 组件目录
│   ├── Header/          # 头部组件
│   ├── BottomNavigation/ # 底部导航
│   ├── WelcomeSection/  # 欢迎区域
│   ├── UploadSection/   # 上传区域
│   ├── LearningResources/ # 学习资料
│   ├── Camera/          # 相机功能
│   └── Toast/           # 提示组件
├── pages/               # 页面组件
│   └── Home.tsx         # 首页
├── store/               # 状态管理
│   └── appStore.ts      # 应用状态
└── App.tsx              # 应用入口
```

## 开发命令

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

### 预览生产版本
```bash
npm run preview
```

## 使用说明

### 1. 启动应用
运行 `npm run dev` 启动开发服务器，在浏览器中访问 `http://localhost:5173`

### 2. 功能使用
- **角色切换**: 点击右上角的角色选择器切换用户角色
- **拍照上传**: 点击"拍照上传"卡片，允许相机权限后即可拍照
- **学习资料**: 点击任意学习资料卡片查看详情（待开发）
- **底部导航**: 使用底部导航栏切换不同页面

### 3. 相机功能
- 首次使用需要允许相机权限
- 支持前后摄像头切换
- 拍照后自动保存到本地存储
- 支持重新拍照和取消操作

## 浏览器兼容性
- iOS Safari 14+
- Android Chrome 80+
- 微信内置浏览器
- 其他现代浏览器

## 待开发功能
1. **文本输入功能**: 实现作文文本输入界面
2. **批改结果页面**: 详细展示批改结果和建议
3. **历史记录页面**: 查看批改历史和统计分析
4. **学习资料详情**: 具体的学习内容页面
5. **用户设置**: 个性化设置页面
6. **图片压缩**: 上传前自动压缩图片
7. **批量上传**: 支持多张图片同时上传
8. **批改结果导出**: 支持PDF/图片导出
9. **批改结果分享**: 社交分享功能

## 图片上传与AI批改集成

### ImgBB图片上传
1. **注册ImgBB账号**: 访问 https://imgbb.com 免费注册
2. **获取API Key**: 在控制台获取免费的API密钥
3. **配置环境变量**: 将API Key添加到环境变量中

### AI批改服务
1. **API地址**: https://aistudio.alibaba-inc.com/api/aiapp/run/dBLyUMmRPox/latest
2. **认证方式**: X-AK Header (cb7a887f0c5be95aeb08148b358d8fc1)
3. **功能**: 英语作文智能批改

### 技术实现
```typescript
// 完整流程
相机拍照 → base64数据 → ImgBB API → 公开URL → AI批改API → 批改结果 → 展示给用户
```

### 优势特点
- ✅ **完全免费**: ImgBB 32MB/张，无总容量限制
- ✅ **简单易用**: 无需复杂配置，一个API调用即可
- ✅ **公开访问**: 返回的URL可直接用于AI解析
- ✅ **智能批改**: 一键润色、亮点挖掘、综合评分
- ✅ **稳定可靠**: 老牌服务商，API稳定

### 开发注意事项

### 1. 相机权限
- 需要在HTTPS环境下使用相机功能
- 本地开发时使用 `http://localhost` 可能无法访问相机
- 建议使用 `https://localhost` 或部署到HTTPS环境

### 2. 图片上传
- ImgBB支持base64直接上传，无需转换格式
- 建议添加上传进度显示和错误处理
- 图片大小限制32MB，适合作文拍照需求

### 3. 移动端测试
- 建议在真实设备上测试触摸交互
- 使用浏览器开发者工具的移动端模拟器
- 测试不同屏幕尺寸的适配效果

### 4. 性能优化
- 图片压缩和懒加载
- 组件按需加载
- 避免不必要的重渲染

## 贡献指南
1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 许可证
MIT License

---

**开发完成时间**: 2024年12月  
**版本**: v1.0.0
